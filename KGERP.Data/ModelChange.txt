
#Change Identity Sign#
========================
(+) Add,
(*) Update,
(-) Remove

Date: 23-11-2023
================
* Unit
	+ IsBoQUnit - bool

Date: 26-11-2023
================
* Erp.BillBoQItem
	+ BoQNumber - varchar(50)
	+ BoqQuantity - decimal(18,0)
	+ BoqUnitId - int
	+ BoQDivisionId - bigint
	- BoQAmount
	- CostCenterId
	- CompanyId

Date: 26-11-2023
================
+ BoQDivision 

	USE [TCLErp_Dev]
	GO

	/****** Object:  Table [Erp].[BoQDivision]    Script Date: 11/26/2023 6:00:34 PM ******/
	SET ANSI_NULLS ON
	GO

	SET QUOTED_IDENTIFIER ON
	GO

	CREATE TABLE [Erp].[BoQDivision](
		[BoQDivisionId] [bigint] IDENTITY(1,1) NOT NULL,
		[Name] [nvarchar](max) NOT NULL,
		[ProjectId] [int] NOT NULL,
		[CompanyId] [int] NOT NULL,
		[CreatedBy] [varchar](255) NOT NULL,
		[CreatedOn] [datetime] NOT NULL,
		[ModifiedBy] [varchar](255) NULL,
		[ModifiedOn] [datetime] NULL,
		[IsActive] [bit] NOT NULL,
	 CONSTRAINT [PK_BoQDivision] PRIMARY KEY CLUSTERED 
	(
		[BoQDivisionId] ASC
	)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
	) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
	GO

	ALTER TABLE [Erp].[BoQDivision] ADD  CONSTRAINT [DF_BoQDivision_IsActive]  DEFAULT ((1)) FOR [IsActive]
	GO

	ALTER TABLE [Erp].[BoQDivision]  WITH CHECK ADD  CONSTRAINT [FK_BoQDivision_Accounting_CostCenter] FOREIGN KEY([ProjectId])
	REFERENCES [dbo].[Accounting_CostCenter] ([CostCenterId])
	GO

	ALTER TABLE [Erp].[BoQDivision] CHECK CONSTRAINT [FK_BoQDivision_Accounting_CostCenter]
	GO

	ALTER TABLE [Erp].[BoQDivision]  WITH CHECK ADD  CONSTRAINT [FK_BoQDivision_Company] FOREIGN KEY([CompanyId])
	REFERENCES [dbo].[Company] ([CompanyId])
	GO

	ALTER TABLE [Erp].[BoQDivision] CHECK CONSTRAINT [FK_BoQDivision_Company]
	GO


Date: 26-11-2023
================
	+ BoQBudgetMaster 

	USE [TCLErp_Dev]
	GO

	/****** Object:  Table [Erp].[BoQBudgetMaster]    Script Date: 11/26/2023 6:02:24 PM ******/
	SET ANSI_NULLS ON
	GO

	SET QUOTED_IDENTIFIER ON
	GO

	CREATE TABLE [Erp].[BoQBudgetMaster](
		[BoQBudgetMasterId] [bigint] IDENTITY(1,1) NOT NULL,
		[ProjectId] [int] NOT NULL,
		[BoQDivisionId] [bigint] NOT NULL,
		[BillBoQItemId] [int] NOT NULL,
		[CompanyId] [int] NOT NULL,
		[Description] [varchar](355) NOT NULL,
		[CreatedBy] [varchar](255) NOT NULL,
		[CreatedOn] [datetime] NOT NULL,
		[ModifiedBy] [varchar](255) NULL,
		[ModifiedOn] [datetime] NULL,
		[IsActive] [bit] NOT NULL,
	 CONSTRAINT [PK_BoQBudgetMaster] PRIMARY KEY CLUSTERED 
	(
		[BoQBudgetMasterId] ASC
	)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
	) ON [PRIMARY]
	GO

	ALTER TABLE [Erp].[BoQBudgetMaster] ADD  CONSTRAINT [DF_BoQBudgetMaster_IsActive]  DEFAULT ((1)) FOR [IsActive]
	GO

	ALTER TABLE [Erp].[BoQBudgetMaster]  WITH CHECK ADD  CONSTRAINT [FK_BoQBudgetMaster_Accounting_CostCenter] FOREIGN KEY([ProjectId])
	REFERENCES [dbo].[Accounting_CostCenter] ([CostCenterId])
	GO

	ALTER TABLE [Erp].[BoQBudgetMaster] CHECK CONSTRAINT [FK_BoQBudgetMaster_Accounting_CostCenter]
	GO

	ALTER TABLE [Erp].[BoQBudgetMaster]  WITH CHECK ADD  CONSTRAINT [FK_BoQBudgetMaster_Company] FOREIGN KEY([CompanyId])
	REFERENCES [dbo].[Company] ([CompanyId])
	GO

	ALTER TABLE [Erp].[BoQBudgetMaster] CHECK CONSTRAINT [FK_BoQBudgetMaster_Company]
	GO


Date: 26-11-2023
================
	+ BoQBudgetDetail

	USE [TCLErp_Dev]
	GO

	/****** Object:  Table [Erp].[BoQBudgetDetail]    Script Date: 11/26/2023 6:03:21 PM ******/
	SET ANSI_NULLS ON
	GO

	SET QUOTED_IDENTIFIER ON
	GO

	CREATE TABLE [Erp].[BoQBudgetDetail](
		[BoQBudgetDetailId] [bigint] IDENTITY(1,1) NOT NULL,
		[BoQBudgetMasterId] [bigint] NOT NULL,
		[ItemUnitId] [int] NOT NULL,
		[Quantity] [decimal](18, 0) NOT NULL,
		[UnitPrice] [decimal](18, 0) NOT NULL,
		[Remarks] [varchar](355) NULL,
		[CreatedBy] [varchar](255) NOT NULL,
		[CreatedOn] [datetime] NOT NULL,
		[ModifiedBy] [varchar](255) NULL,
		[ModifiedOn] [datetime] NULL,
		[IsActive] [bit] NOT NULL,
	 CONSTRAINT [PK_BoQBudgetDetail] PRIMARY KEY CLUSTERED 
	(
		[BoQBudgetDetailId] ASC
	)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
	) ON [PRIMARY]
	GO

	ALTER TABLE [Erp].[BoQBudgetDetail] ADD  CONSTRAINT [DF_BoQBudgetDetail_IsActive]  DEFAULT ((1)) FOR [IsActive]
	GO

	ALTER TABLE [Erp].[BoQBudgetDetail]  WITH CHECK ADD  CONSTRAINT [FK_BoQBudgetDetail_BoQBudgetMaster] FOREIGN KEY([BoQBudgetMasterId])
	REFERENCES [Erp].[BoQBudgetMaster] ([BoQBudgetMasterId])
	GO

	ALTER TABLE [Erp].[BoQBudgetDetail] CHECK CONSTRAINT [FK_BoQBudgetDetail_BoQBudgetMaster]
	GO

	ALTER TABLE [Erp].[BoQBudgetDetail]  WITH CHECK ADD  CONSTRAINT [FK_BoQBudgetDetail_Unit] FOREIGN KEY([ItemUnitId])
	REFERENCES [Erp].[Unit] ([UnitId])
	GO

	ALTER TABLE [Erp].[BoQBudgetDetail] CHECK CONSTRAINT [FK_BoQBudgetDetail_Unit]
	GO


Date: 26-11-2023
================
	+ UserLog

		USE [TCLErp_Dev]
		GO

		SET ANSI_NULLS ON
		GO

		SET QUOTED_IDENTIFIER ON
		GO

		CREATE TABLE [Erp].[UserLog](
			[UserLogId] [bigint] IDENTITY(1,1) NOT NULL,
			[ActionType] [int] NOT NULL,
			[EmployeeId] [bigint] NOT NULL,
			[EmpUserId] [varchar](255) NOT NULL,
			[CompanyId] [int] NOT NULL,
			[ActionTimeStamp] [datetime] NOT NULL,
			[Details] [varchar](512) NULL,
		 CONSTRAINT [PK_UserLog] PRIMARY KEY CLUSTERED 
		(
			[UserLogId] ASC
		)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		GO

		ALTER TABLE [Erp].[UserLog]  WITH CHECK ADD  CONSTRAINT [FK_UserLog_Company] FOREIGN KEY([CompanyId])
		REFERENCES [dbo].[Company] ([CompanyId])
		GO

		ALTER TABLE [Erp].[UserLog] CHECK CONSTRAINT [FK_UserLog_Company]
		GO

		ALTER TABLE [Erp].[UserLog]  WITH CHECK ADD  CONSTRAINT [FK_UserLog_Employee] FOREIGN KEY([EmployeeId])
		REFERENCES [dbo].[Employee] ([Id])
		GO

		ALTER TABLE [Erp].[UserLog] CHECK CONSTRAINT [FK_UserLog_Employee]
		GO

Date: 27-11-2023
================
+BillReqApprovalHistory

		USE [TCLErp_Dev]
		GO

		/****** Object:  Table [Erp].[BillReqApprovalHistory]    Script Date: 11/27/2023 12:18:42 PM ******/
		SET ANSI_NULLS ON
		GO

		SET QUOTED_IDENTIFIER ON
		GO

		CREATE TABLE [Erp].[BillReqApprovalHistory](
			[BillReqApprovalHistoryId] [bigint] IDENTITY(1,1) NOT NULL,
			[BillRequisitionMasterId] [bigint] NOT NULL,
			[BillRequisitionDetailId] [bigint] NULL,
			[EmployeeId] [bigint] NULL,
			[DemandQty] [decimal](18, 0) NULL,
			[UnitRate] [decimal](18, 0) NULL,
			[TotalPrice] [decimal](18, 0) NULL,
			[ReceivedSoFar] [decimal](18, 0) NULL,
			[RemainingQty] [decimal](18, 0) NULL,
			[CompanyId] [int] NOT NULL,
			[CreateDate] [datetime] NOT NULL,
			[CreatedBy] [varchar](255) NOT NULL,
		 CONSTRAINT [PK_BillReqApprovalHistory] PRIMARY KEY CLUSTERED 
		(
			[BillReqApprovalHistoryId] ASC
		)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		GO

		ALTER TABLE [Erp].[BillReqApprovalHistory]  WITH CHECK ADD  CONSTRAINT [FK_BillReqApprovalHistory_BillRequisitionDetail] FOREIGN KEY([BillRequisitionDetailId])
		REFERENCES [Erp].[BillRequisitionDetail] ([BillRequisitionDetailId])
		GO

		ALTER TABLE [Erp].[BillReqApprovalHistory] CHECK CONSTRAINT [FK_BillReqApprovalHistory_BillRequisitionDetail]
		GO

		ALTER TABLE [Erp].[BillReqApprovalHistory]  WITH CHECK ADD  CONSTRAINT [FK_BillReqApprovalHistory_BillRequisitionMaster] FOREIGN KEY([BillRequisitionMasterId])
		REFERENCES [Erp].[BillRequisitionMaster] ([BillRequisitionMasterId])
		GO

		ALTER TABLE [Erp].[BillReqApprovalHistory] CHECK CONSTRAINT [FK_BillReqApprovalHistory_BillRequisitionMaster]
		GO

		ALTER TABLE [Erp].[BillReqApprovalHistory]  WITH CHECK ADD  CONSTRAINT [FK_BillReqApprovalHistory_Company] FOREIGN KEY([CompanyId])
		REFERENCES [dbo].[Company] ([CompanyId])
		GO

		ALTER TABLE [Erp].[BillReqApprovalHistory] CHECK CONSTRAINT [FK_BillReqApprovalHistory_Company]
		GO

		ALTER TABLE [Erp].[BillReqApprovalHistory]  WITH CHECK ADD  CONSTRAINT [FK_BillReqApprovalHistory_Employee] FOREIGN KEY([EmployeeId])
		REFERENCES [dbo].[Employee] ([Id])
		GO

		ALTER TABLE [Erp].[BillReqApprovalHistory] CHECK CONSTRAINT [FK_BillReqApprovalHistory_Employee]
		GO

